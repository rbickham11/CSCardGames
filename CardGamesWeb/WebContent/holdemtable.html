<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Single Portfolio Item - Modern Business - Start Bootstrap Template</title>

    <!-- Bootstrap core CSS -->
    <!-- Bootstrap core CSS -->
    <link href="resources/stylesheets/bootstrap.css" rel="stylesheet">

    <!-- Add custom CSS here -->
    <link href="resources/stylesheets/modern-business.css" rel="stylesheet">
    <link href="resources/stylesheets/game.css" rel="stylesheet">
    <link href="resources/font-awesome/css/font-awesome.min.css" rel="stylesheet">
	<style>
	 #remotes video {
                height: 154px;
                width: 155px;
            }
     #localVideo {
                height: 154px;
                width: 155px;
            }
	</style>
  </head>
          <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
     <script src="http://simplewebrtc.com/latest.js"></script> 
        <script>
            // grab the room from the URL to know to join
            var room = location.search && location.search.split('?')[1];

            // create our SimpleWebRTC connection.
            var webrtc = new SimpleWebRTC({
                // the id for the element that holds the user's personal video
                localVideoEl: 'localVideo',
                // the id for the element that holds the other user's personal video
                remoteVideosEl: 'remotes',
                // ask for microphone and webcam access
                autoRequestMedia: true,
                log: true
            });

            // when it's ready, join if we got a room from the URL
            webrtc.on('readyToCall', function () {
                // you can name it anything
                if (room) webrtc.joinRoom(room);
            });
            if (room) {
               //do nothing if room exists since we already joined it
            } else {
				//this actually creates a new room if it does not exist. It is left in here since when I was testing it, it allowed me to test renaming the rooms. We can take it
				// out if you guys want, not really needed for anything other than dynamically creating a new room.
                $('form').submit(function () {
                    var val = $('#sessionInput').val().toLowerCase().replace(/\s/g, '-').replace(/[^A-Za-z0-9_\-]/g, '');
                    webrtc.createRoom(val, function (err, name) {
					//Here is where it creates the new room using the url, + a ? + the name you want
                        var newUrl = location.pathname + '?' + name;
                        if (!err) {
						//If there is an error, replace the created room with the old one in the history
                            history.replaceState({foo: 'bar'}, null, newUrl);
                        }
                    });
					//So no room exists, just returns false. We can make this redirect to the 404 page if you'd like.
                    return false;          
                });
            }
			
        </script>

  <body>

    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">CardGames</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="index.html">Home</a></li>
            <li><a href="tables.html">Tables</a></li>
           </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container -->
    </nav>

    <!-- <div class="container"> -->
	<div class="modal fade" id = "modal">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h4 class="modal-title">Welcome!</h4>
	      </div>
	      <div class="modal-body">
			<form role="form" id = "addPlayerForm" action="/api/holdemtable/addplayer" method="POST">
			  <div class="form-group">
			    <label for="userId">User ID: </label>
			    <input type = "text" class="form-control" id="userId" name ="userId" placeholder="Id">
			  </div>
  			  <div class="form-group">
			    <label for="username">Username: </label>
			    <input type = "text" class="form-control" id="username" name ="username" placeholder="Username">
			  </div>
			  <div class="form-group">
			    <label for="seatNumber">Seat Number:</label>
			    <input type="text" class="form-control" id="seatNumber" name ="seatNumber" placeholder="Seat number">
			  </div>
  			  <div class="form-group">
			    <label for="startingChips">Starting Chips:</label>
			    <input type="text" class="form-control" id="startingChips" name="startingChips" placeholder="Chips">
			  </div>
			</form>
	      </div>
	      <div class="modal-footer">
	        <button type="button" id="modal-close" class="btn btn-default" >Close</button>
	        <button type="button" class="btn btn-primary" id = "addPlayerSubmit">Sit Down</button>
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
      <div class="row">

        <div class="col-lg-12">
          <h1 class="page-header">High Stakes Texas Hold 'Em</h1>
        </div>

      </div>

	  <div id="remotes" style="float:left;display:block;"></div>
        <div class="col-md-10 game">
          <div class="row">
            <div class="col-lg-1 player" id="player1">
              Player 1
            </div>
            <div class="col-lg-1 info" >
            	<span id = "#player1Name">Name: </span><br />
            	Chips: <br />
            </div>
            <div class="col-lg-1"> </div>
            <div class="col-lg-1 dealtCards" id="board1">
              <img src = "resources/images/cards/3.png" />
            </div> 
            <div class="col-lg-1 dealtCards" id="board2">
              <img src = "resources/images/cards/3.png" />
            </div>
            <div class="col-lg-1 dealtCards" id="board3">
              <img src = "resources/images/cards/3.png" />
            </div>
            <div class="col-lg-1 dealtCards" id="board4">
              <img src = "resources/images/cards/3.png" />
            </div>
            <div class="col-lg-1 dealtCards" id="board5">
              <img src = "resources/images/cards/3.png" />
            </div>            
            <div class="col-lg-1 player pull-right" id="player9">
              Player 9
            </div>
            <div class="col-lg-1 info pull-right" >
            	Name: <br />
            	Chips: <br />
            </div>
          </div>
          <div class="row">
            <div class="col-lg-1 player" id="player2">
              <p>Player 2</p>
            </div>
            <div class="col-lg-1 info" >
            	Name: <br />
            	Chips: <br />
            </div>                       
            <div class="col-lg-1 player pull-right" id="player8">
              <p>Player 8</p>
            </div>
            <div class="col-lg-1 info pull-right" >
            	Name: <br />
            	Chips: <br />
            </div> 
          </div>
          <div class="row">
            <div class="col-lg-1 player" id="player3">
              <p>Player 3</p>
            </div>
            <div class="col-lg-1 info" >
            	Name: <br />
            	Chips: <br />
            </div> 
            <div class="col-lg-1 player pull-right" id="player7">
              <p>Player 7</p>
            </div>
            <div class="col-lg-1 info pull-right" >
            	Name: <br />
            	Chips: <br />
            </div> 
          </div><div class="row">
            <div class="col-lg-1 player" id="player4">
              <p>Player 4</p>
            </div>
            <div class="col-lg-1 info" >
            	Name: <br />
            	Chips: <br />
            </div> 
            <div class="col-lg-1 player" id="player5">
              <p>Player 5</p>
            </div>
            <div class="col-lg-1 player pull-right" id="player6">
              <p>Player 6</p>              
            </div>
            <div class="col-lg-1 info pull-right" >
            	Name: <br />
            	Chips: <br />
            </div> 
          </div>

        </div>
      </div>

      <div class="row">

        <div class="col-sm-3 chat">         
          <textarea class="form-control txtControl" id="chat-window" rows="12">Player 1: Hello</textarea>
        	<input type="text" class="form-control chatControl" id="chatInput" placeholder="Chat">
          <button type="button" class="btn btn-primary pull-right" id="chatButton">Send</button>
        </div>

        <div class="col-sm-3 user">
          <a href="#"><h2 style="margin-bottom: 15px;padding: 0;font-size:27px;" class="text-center">Ryan Bickham</h2></a>
            <div class="col-sm-6">
              <p id='userButtons'>  
                <button type="button" class="btn btn-primary">User Profile</button>
                <button type="button" class="btn btn-primary">Settings</button>
              </p>
            </div>
            <div class="col-sm-6">
              <video id="localVideo" style="display:inline; margin-right:40px"></video>
            </div> 
        </div>

        <div class="col-sm-3">
          <h2 style="margin-bottom: 15px;padding: 0;font-size:27px;" class="text-center">Place Your Bets</h2>
          <p id='userButtons'>              
                <button type="button" class="btn btn-lg btn-primary">Call</button>
                <button type="button" class="btn btn-lg btn-primary">Fold</button>
                <button type="button" class="btn btn-lg btn-primary">Stand Up</button>
              </p> 
        	<div class="well">
            <h3>Raise: </h3><div class="slider slider-horizontal" style="width: 100%;"></div>
          </div>
        </div>

        <div class="col-sm-3">
        	<h2 style="margin-bottom: 15px;padding: 0;font-size:27px;">Your Hand</h2>
              <img src = "resources/images/cards/3.png" /> 
              <img src = "resources/images/cards/3.png" /> 	
        </div>

      </div>

    <!-- </div>/.container -->

    <div class="container">

      <hr>

      <footer>
        <div class="row">
          <div class="col-lg-12">
            <p>Copyright &copy; Company 2013</p>
          </div>
        </div>
      </footer>

    </div><!-- /.container -->

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="resources/javascript/jquery.js"></script>
    <script src="resources/javascript/bootstrap.js"></script>
    <script src="resources/javascript/modern-business.js"></script>
    <script src="resources/javascript/bootstrap-slider.js"></script>
	<script src="resources/javascript/holdemtable.js"></script>
    <script> 
      $('.slider').slider()
    </script>
  </body>
</html>